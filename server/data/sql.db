****************
Database Scripts
****************

--Create user table
CREATE TABLE `forumdb`.`users` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `firstname` VARCHAR(25) NOT NULL,
  `lastname` VARCHAR(25) NOT NULL,
  `username` VARCHAR(25) NOT NULL,
  `password` VARCHAR(255) NOT NULL,
  `createdate` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC) VISIBLE);

--create users
insert into users (firstname, lastname, username, password) values ('Bruce', 'Banner', 'TheHulk', 'test0001');
insert into users (firstname, lastname, username, password) values ('Clark', 'Kent', 'SuperMan', 'test0002');
insert into users (firstname, lastname, username, password) values ('Diana', 'Prince', 'WonderWoman', 'test0003');
insert into users (firstname, lastname, username, password) values ('Tony', 'Stark', 'IronMan', 'test0004');



--create categories table
CREATE TABLE `forumdb`.`categories` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `category` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC) VISIBLE);

insert into categories (category) values ("Food & Cooking");
insert into categories (category) values ("Health & Relationships");
insert into categories (category) values ("Hobbies & Crafts");
insert into categories (category) values ("Home & Garden");
insert into categories (category) values ("Pets & Animals");
insert into categories (category) values ("Travel & Work");

--create questions table
CREATE TABLE `forumdb`.`questions` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `title` VARCHAR(300) NOT NULL,
  `body` LONGTEXT NOT NULL,
  `votes` INT NOT NULL DEFAULT 0,
  `userid` INT NOT NULL,
  `categoryid` INT NOT NULL,
  `createdate` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  UNIQUE INDEX `id_UNIQUE` (`id` ASC) VISIBLE,
  INDEX `FK_QUESTIONS_idx` (`categoryid` ASC) VISIBLE,
  INDEX `FK_USER_idx` (`userid` ASC) VISIBLE,
  CONSTRAINT `FK_QUESTION`
    FOREIGN KEY (`categoryid`)
    REFERENCES `forumdb`.`categories` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_USER`
    FOREIGN KEY (`userid`)
    REFERENCES `forumdb`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


--create answers table
CREATE TABLE `forumdb`.`answers` (
  `id` INT NOT NULL AUTO_INCREMENT,
  `body` VARCHAR(500) NOT NULL,
  `userid` INT NOT NULL,
  `questionid` INT NOT NULL,
  `createdate` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
  PRIMARY KEY (`id`),
  INDEX `FK_USER_idx` (`userid` ASC) VISIBLE,
  INDEX `FK_QUESTION_idx` (`questionid` ASC) VISIBLE,
  CONSTRAINT `FK_USERID`
    FOREIGN KEY (`userid`)
    REFERENCES `forumdb`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `FK_QUESTIONID`
    FOREIGN KEY (`questionid`)
    REFERENCES `forumdb`.`questions` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION);


